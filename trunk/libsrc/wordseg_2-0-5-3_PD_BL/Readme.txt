Word Segmentation Project  
Version 1.2.5
Baidu@2007
David Dai
Updated on 2007.11.7

1.代码说明
  本版本开始采用简单清晰的代码风格，约定如下：
  a) 函数名小写，多个单词之间用下划线“_”连接，内部函数以下划线开头。
  b) 变量名如果是单个单词小写，不以下划线开头；多个单词的话从第二个单词开始每个单词首字母大写，如pFullPathName，以区别函数命名。
  c) 自定义类型名以“_t”结尾，自定义结构内的成员变量小写，多个单词之间用下划线连接。
  d) 文件名小写，但是采用.cpp后缀，表示采用非面向对象的C++程序。  
  e) 只承担接口作用的头文件以i开头，如isegment.h。

2.文件夹说明    
  src - 源码文件目录
  test - 单元测试源码文件
  include - 头文件目录
  
  lib - make生成的库文件目录  
  bin - make生成的程序，脚本，测试数据。
  doc - 用于存放自动生成的代码文档
    
  output - 临时输出目录,仅供SCM使用，make clean后会删除。
  
3.改进之处：
  1. 新接口编写。【已完成】
  2. 老接口bug修改。【已完成】 
  3. 修改歧义决策策略。【已完成】
  4. 修改命名实体识别中关于两字词可能为人名或者部分人名的问题，此策略副作用太大，后改回原来策略。【已完成】  
  5. 新接口属性类型可能需要配合已有属性判断函数才行！【已完成】  
  6. 为了和新的标注系统兼容，分词旧接口文件中的需要添加两个获取token数组的函数。【已完成】

4.下一步计划
  1. 逐渐去除scwout.cpp，并最后去掉scwdef.h这一接口文件。  
  2. 提供更方便的辞典接口于segdict.h中，所有内部定义置于segdef.h中，不对外公开，只提供方法。  
  3. 库和辞典之间版本的对应关系需要修改，以配合辞典和库的独立升级。已计划采用新的算法检测版本。
  
5.问题待处理
  1. 实际上token_t中index字段的存在是一个设计瑕疵，因为其实际上是一个内部使用字段。但是当时为了使得分词的seg_*接口
  更漂亮，所以使用了这个index字段。除这个字段外，其它字段都是可以供调用者使用的！暂时没有很好的办法去除这个字段。
  2. 分词系统在使用的时候需要根据传入的参数开辟一个大的缓冲用来存储动态词语，包含动态短语和基本词，但是没有
  一个确定的地方规定每个term最大允许的子短语数目，因为所有term的动态子短语都被存储在这个大的缓冲中。整个系统
  都是这样设计的，首先创建一个大缓冲，东西都往里面塞，并不限定每个形式的可以塞多少，本意是可以节省内存。这种设计
  的问题是不知道什么时候会出core，所以一般把缓冲开很大，实际上得不偿失！
  3. 如果把一个已有的基本词又以短语方式插入是否会产生问题呢？[应该不允许这样加入]
  4.“北京人民机器总厂”这个bad case会命中歧义中长度比较的策略。 
  
Look out:
  1. isegment.h中新接口从短语中判断是否存在人名时既检查其子短语，又检查其基本词，但是老的接口均没有，为了保持一致，
     暂时屏蔽掉了新接口中对于基本词是否为人名的检测，注意需要在将来版本中放开！。
  2. 旧接口中关于子短语偏移是以词计数而不是字节计数[于词典中记录]。估计其设计初衷是为了将来对短语拆分方便，
     但却给isegment.h中的接口带来了一些麻烦，为了获得子短语在其父短语中的字节偏移需要比较复杂的计算，最好能统一！  

Change log:
  相比版本1.2.4主要修改内容如下：
  0) 对于3个汉字的歧义片段，采用单字后缀提权策略。
  1) 修正ascii切分时可能超越用户长度限制的问题。
  2) 修正scw_destroy_worddict()中释放pwdict内存代码行顺序不对的问题。
  3) scw_create_inner函数中加入"free(pir->m_ppseg);"代码。
  4) 修正输入词典路径最后必须带有'/'的问题。
  5) scw_get_token_1()中对是否需要输出属性标记添加了判断，否则如果用户在分词时没有添加SCW_OUT_PROP标记的话会core。
  6) scw_get_token_1()函数中，token的offset取的是term在分词buffer中的偏移，不是实际在输入文本中的偏移，前者多计入了一些\t的位置。
  7) readme文件更新；代码注释风格进行了相应调整，以便自动生成清晰的代码文档。


Word Segmentation
Version 1.3.0
Baidu@2008
Xie Jin
Updated on 2008.11.4

change log:
 0) 中日文分词合并。日文分词自有策略升级部分合并入wordseg
 1) 版本验证功能升级，在完整版本号验证以前先进行头两位版本号验证，如果验证通过，则直接认为版本兼容。以实现词典内存结构没有变动时的向上向下兼容。   *******特别注意：词典内存结构一旦变动，二位版本号必须加1******
 2) 添加测试工具wordseg4.cpp，日文分词单独使用
 3) 本次升级对中文切词结果无diff。


Word Segmengtation
Version 1.3.1
Baidu@2008
liujianzhu
Updated on 2008.12.05
zhangxijuan
Updated on 2009.03.24

change log:
1)实现对1.3.0版本的合并
2)整理与修改属性宏定义
3)修改中文切词程序中对外国人名的动态识别，在输出时不再输出动态识别的外国人名
4)修改IS_PRODUCT的属性信息为IS_SCW_PRODUCT，SET_PRODUCT的属性信息为SET_SCW_PRODUCT
5)修复segment.cpp中内存释放的bug。
6)修复segutil.cpp中的load_verinfo函数中的数组未初始化的问题。

Word Segmengtation
Version 1.3.3
by wuzhongqin@baidu
2009.05.19

change log:
1)修复：日文切分中，合并跨连续多个四字节大点的片假名串出core的bug
2)修复：日文词典build中未载入歧义切分信息的bug(buildDict.cpp)
3)改进：日文切分中跨空格人名合并时，放松限制，当人名后是强人名后缀也可合并?-9属性)

Word Segmengtation
Version 1.3.2
Baidu@2008
zhangxijuan
Updated on 2009.06.29

change log:
（1）时间词数量词解除合并。
（2）ascii码subphrase完备性添加
（3）词典常规升级包括:添加新词条basic483个，phrase24000个，包括wordmine和neminer挖掘出的专名和新词，以及百科词典中的增量词汇，近期的热门新词等 
basic中成语提升为phrase;为英文专名添加-a属性（ascii码属性） ;修复线上badcase 


version1.3.4
by zhangxijuan@baidu
2009.0818
changelog:
增加切词人工控制，可以自动加新词和实例片段。
